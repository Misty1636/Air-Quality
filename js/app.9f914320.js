(function(t){function a(a){for(var e,i,o=a[0],c=a[1],_=a[2],u=0,d=[];u<o.length;u++)i=o[u],s[i]&&d.push(s[i][0]),s[i]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(a);while(d.length)d.shift()();return r.push.apply(r,_||[]),n()}function n(){for(var t,a=0;a<r.length;a++){for(var n=r[a],e=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(e=!1)}e&&(r.splice(a--,1),t=o(o.s=n[0]))}return t}var e={},s={app:0},r=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"8899aedb"}[t]+".js"}function o(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var a=[],n=s[t];if(0!==n)if(n)a.push(n[2]);else{var e=new Promise(function(a,e){n=s[t]=[a,e]});a.push(n[2]=e);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(t),r=function(a){c.onerror=c.onload=null,clearTimeout(_);var n=s[t];if(0!==n){if(n){var e=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src,i=new Error("Loading chunk "+t+" failed.\n("+e+": "+r+")");i.type=e,i.request=r,n[1](i)}s[t]=void 0}};var _=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(a)},o.m=t,o.c=e,o.d=function(t,a,n){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)o.d(n,e,function(a){return t[a]}.bind(null,e));return n},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],_=c.push.bind(c);c.push=a,c=c.slice();for(var u=0;u<c.length;u++)a(c[u]);var l=_;r.push([0,"chunk-vendors"]),n()})({0:function(t,a,n){t.exports=n("56d7")},"56d7":function(t,a,n){"use strict";n.r(a);n("cadf"),n("551c"),n("f751"),n("097d");var e=n("2b0e"),s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i={name:"App"},o=i,c=(n("5c0b"),n("2877")),_=Object(c["a"])(o,s,r,!1,null,null,null),u=_.exports,l=n("8c4f"),d=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"home"},[t.isLoading?n("div",{staticClass:"loading"},[t._m(0),t._m(1)]):t._e(),n("div",{staticClass:"container aqi h-py-6"},[n("div",{staticClass:"row h-mb-5"},[n("div",{staticClass:"col-4"},[n("h1",{staticClass:"aqi__title h-mb-3"},[t._v("空氣品質指標 (AQI)")]),n("div",{staticClass:"aqi__selects"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.Countys,expression:"$store.state.Countys"}],staticClass:"aqi__select h-p-3",on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.$store.state,"Countys",a.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"請選擇地區",disabled:""}},[t._v("請選擇地區")]),t._l(t.getCounty,function(a){return n("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])})],2)])]),t._m(2)]),t.Countys?n("div",{staticClass:"aqi__currentCity h-mb-5"},[n("h2",{staticClass:"aqi__currentCity__title"},[t._v(t._s(t.Countys))]),n("div",{staticClass:"aqi__currentCity__hr h-px-3"},[n("svg",{attrs:{width:"100%",height:"11px"}},[n("path",{attrs:{d:"M 0 6 L 830 6",stroke:"#121212","stroke-linecap":"round","stroke-width":"1","stroke-dasharray":"3,3",fill:"none"}})])]),t.getUpdateTime?n("div",{staticClass:"aqi__currentCity__updateTime"},[n("span",[t._v(t._s(t.getUpdateTime))]),n("span",{staticClass:"h-ml-3"},[t._v("update")])]):t._e()]):t._e(),n("div",{staticClass:"row"},[t.currentZone.SiteName?n("div",{staticClass:"col-4 aqi__currentZone"},[n("div",{staticClass:"row no-gutters"},[n("div",{staticClass:"col-6 h-py-3",class:t._f("getSize")(t.currentZone.SiteName)},[t._v(t._s(t.currentZone.SiteName))]),n("div",{staticClass:"col-6 aqi__currentZone__status h-py-3",class:t._f("getColor")(t.currentZone.Status)},[t._v(t._s(t._f("getNum")(t.currentZone.AQI)))]),n("div",{staticClass:"col-12 aqi__currentZone__gass"},[n("div",{staticClass:"h-p-3"},[n("ul",{staticClass:"aqi__currentZone__gas"},[n("li",[n("b",[t._v("臭氧")]),n("span",{staticClass:"h-ml-2"},[t._v("O3 (ppb)")]),n("b",{staticClass:"h-ml-auto"},[t._v(t._s(t._f("getNum")(t.currentZone.O3)))])]),n("li",[n("b",[t._v("懸浮微粒")]),n("span",{staticClass:"h-ml-2"},[t._v("PM10 (μg/m³)")]),n("b",{staticClass:"h-ml-auto"},[t._v(t._s(t._f("getNum")(t.currentZone.PM10)))])]),n("li",[n("b",[t._v("細懸浮微粒")]),n("span",{staticClass:"h-ml-2"},[t._v("PM2.5 (μg/m³)")]),n("b",{staticClass:"h-ml-auto"},[t._v(t._s(t._f("getNum")(t.currentZone["PM2.5"])))])]),n("li",[n("b",[t._v("一氧化碳")]),n("span",{staticClass:"h-ml-2"},[t._v("CO (ppm)")]),n("b",{staticClass:"h-ml-auto"},[t._v(t._s(t._f("getNum")(t.currentZone.CO)))])]),n("li",[n("b",[t._v("二氧化硫")]),n("span",{staticClass:"h-ml-2"},[t._v("SO2 (ppb)")]),n("b",{staticClass:"h-ml-auto"},[t._v(t._s(t._f("getNum")(t.currentZone.SO2)))])]),n("li",[n("b",[t._v("二氧化氮")]),n("span",{staticClass:"h-ml-2"},[t._v("NO2 (ppb)")]),n("b",{staticClass:"h-ml-auto"},[t._v(t._s(t._f("getNum")(t.currentZone.NO2)))])])])])])])]):t._e(),n("div",{staticClass:"col-8"},[n("div",{staticClass:"row"},t._l(t.getCurrentCounty,function(a){return n("div",{key:a.SiteName,staticClass:"col-6 h-mb-5",on:{click:function(n){return t.GETCURRENTZONE(a)}}},[n("div",{staticClass:"aqi__zoneList",class:{"aqi__zoneList--active":t.currentZone.SiteName===a.SiteName}},[n("h4",{class:{aqi__zoneList__title:a.SiteName.length<3,aqi__zoneList__titleSmall:a.SiteName.length>2}},[t._v(t._s(a.SiteName))]),n("span",{staticClass:"aqi__zoneList__num",class:t._f("getColor")(a.Status)},[t._v(t._s(t._f("getNum")(a.AQI)))])])])}),0)])])]),n("Footer")],1)},v=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"loading__outer"},[n("div",{staticClass:"loading__inner"},[n("div",{staticClass:"loading__mark"})])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"loading__stars"},[n("div",{staticClass:"loading__star"}),n("div",{staticClass:"loading__star"}),n("div",{staticClass:"loading__star"}),n("div",{staticClass:"loading__star"}),n("div",{staticClass:"loading__star"})])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"col-8"},[n("div",{staticClass:"row no-gutters h-100"},[n("div",{staticClass:"col aqi__standard"},[n("div",{staticClass:"aqi__standard__num aqi__standard__num--lv1"},[n("span",[t._v("0~50")])]),n("div",{staticClass:"aqi__standard__status"},[n("span",[t._v("良好")])])]),n("div",{staticClass:"col aqi__standard"},[n("div",{staticClass:"aqi__standard__num aqi__standard__num--lv2"},[n("span",[t._v("51~100")])]),n("div",{staticClass:"aqi__standard__status"},[n("span",[t._v("普通")])])]),n("div",{staticClass:"col aqi__standard"},[n("div",{staticClass:"aqi__standard__num aqi__standard__num--lv3"},[n("span",[t._v("101~150")])]),n("div",{staticClass:"aqi__standard__status"},[n("span",[t._v("對敏感族群 不健康")])])]),n("div",{staticClass:"col aqi__standard"},[n("div",{staticClass:"aqi__standard__num aqi__standard__num--lv4"},[n("span",[t._v("151~200")])]),n("div",{staticClass:"aqi__standard__status"},[n("span",[t._v("對所有族群 不健康")])])]),n("div",{staticClass:"col aqi__standard"},[n("div",{staticClass:"aqi__standard__num aqi__standard__num--lv5"},[n("span",[t._v("201~300")])]),n("div",{staticClass:"aqi__standard__status"},[n("span",[t._v("非常不健康")])])]),n("div",{staticClass:"col aqi__standard"},[n("div",{staticClass:"aqi__standard__num aqi__standard__num--lv6"},[n("span",[t._v("301~400")])]),n("div",{staticClass:"aqi__standard__status"},[n("span",[t._v("危害")])])])])])}],f=(n("ac6a"),function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)}),p=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"footer"},[n("div",{staticClass:"container"},[n("div",{staticClass:"footer__content"},[n("span",{staticClass:"footer__content__text"},[t._v("資料來源：行政院環境保護署")]),n("span",{staticClass:"footer__content__text"},[t._v("Copyright © 2019. All rights reserved.")])])])])}],m={},C=Object(c["a"])(m,f,p,!1,null,null,null),h=C.exports,g={name:"home",data:function(){return{zones:[],currentZone:{},Countys:"",isLoading:!0}},methods:{getData:function(){var t=this,a="".concat("https://script.google.com/macros/s/AKfycbxWU1lk_0BxQ4RpQlvn1XAUqeLyM-Xoj_REHkbWAhtd89DnpUM/exec","?url=").concat("http://opendata.epa.gov.tw/webapi/Data/REWIQA/?format=json");fetch(a,{method:"get"}).then(function(t){return t.json()}).then(function(a){t.zones=a;var n=Math.floor(Math.random()*t.zones.length);t.currentZone=t.zones[n-1],t.Countys=t.currentZone.County,t.isLoading=!1}).catch(function(t){throw new Error(t)})},getCurrentZone:function(t){var a=this;a.currentZone=t}},computed:{getCounty:function(){var t=this,a=[];return t.zones.forEach(function(t){-1===a.indexOf(t.County)&&a.push(t.County)}),a},getCurrentCounty:function(){var t=this;return t.zones.filter(function(a){return a.County===t.Countys})},getUpdateTime:function(){var t=this,a="",n=t.zones.filter(function(a){return a.County===t.Countys});return n.forEach(function(t){t.PublishTime&&!a&&(a=t.PublishTime)}),a}},components:{Footer:h},created:function(){this.getData()}},b=g,y=Object(c["a"])(b,d,v,!1,null,null,null),q=y.exports;e["a"].use(l["a"]);var w=new l["a"]({routes:[{path:"/",name:"home",component:q},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),Z=n("2f62");e["a"].use(Z["a"]);var N=new Z["a"].Store({strict:!0,state:{currentZone:{},isLoading:!0,zones:[],Countys:""},mutations:{GETDATA:function(t,a){t.zones=a;var n=Math.floor(Math.random()*t.zones.length);t.currentZone=t.zones[n-1],t.Countys=t.currentZone.County},GETCURRENTZONE:function(t,a){t.currentZone=a},ISLOADING:function(t,a){t.isLoading=a},GETCOUNTYS:function(t,a){t.Countys=a}},actions:{getData:function(t){var a="".concat("https://script.google.com/macros/s/AKfycbxWU1lk_0BxQ4RpQlvn1XAUqeLyM-Xoj_REHkbWAhtd89DnpUM/exec","?url=").concat("http://opendata.epa.gov.tw/webapi/Data/REWIQA/?format=json");fetch(a,{method:"get"}).then(function(t){return t.json()}).then(function(a){t.commit("GETDATA",a),t.commit("ISLOADING",!1)}).catch(function(t){throw new Error(t)})}},getters:{currentZone:function(t){return t.currentZone},isLoading:function(t){return t.isLoading},zones:function(t){return t.zones},Countys:function(t){return t.Countys}}}),E=function(t){var a="";return a=t||"NA",a},O=function(t){var a="";return a=t.length<3?"aqi__currentZone__title":"aqi__currentZone__titleSmall",a},S=function(t){var a="";switch(t){case"良好":a="aqi__standard__num--lv1";break;case"普通":a="aqi__standard__num--lv2";break;case"對敏感族群不健康":a="aqi__standard__num--lv3";break;case"對所有族群不健康":a="aqi__standard__num--lv4";break;case"非常不健康":a="aqi__standard__num--lv5";break;case"危害":a="aqi__standard__num--lv6";break;default:a="aqi__standard__num--NA";break}return a};e["a"].filter("getNum",E),e["a"].filter("getSize",O),e["a"].filter("getColor",S),e["a"].config.productionTip=!1,new e["a"]({router:w,store:N,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,a,n){"use strict";var e=n("5e27"),s=n.n(e);s.a},"5e27":function(t,a,n){}});
//# sourceMappingURL=app.9f914320.js.map